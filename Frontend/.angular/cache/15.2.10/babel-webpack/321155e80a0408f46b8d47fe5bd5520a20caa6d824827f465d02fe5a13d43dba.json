{"ast":null,"code":"import { EventEmitter } from \"@angular/core\";\nimport { map } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/diet-book.service\";\nimport * as i3 from \"src/app/services/meal.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../mealform/mealform.component\";\nimport * as i7 from \"../../../core/array-dietmeal/array-dietmeal.component\";\nfunction SingleDietComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"div\")(3, \"h3\");\n    i0.ɵɵtext(4, \"Livret N\\u00B0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function SingleDietComponent_div_2_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onModify());\n    });\n    i0.ɵɵtext(8, \"modifier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function SingleDietComponent_div_2_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onAddMeal());\n    });\n    i0.ɵɵtext(10, \"Ajouter un Repas\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 9)(12, \"p\", 10);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 11)(15, \"div\", 12)(16, \"h4\");\n    i0.ɵɵtext(17, \"Pathologie\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 12)(21, \"h4\");\n    i0.ɵɵtext(22, \"Sexe\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"p\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"div\", 11)(26, \"div\", 13)(27, \"h4\");\n    i0.ɵɵtext(28, \"Nbre d'\\u00E9tape\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"p\");\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"div\", 13)(32, \"h4\");\n    i0.ɵɵtext(33, \"Nbre de semaines/\\u00E9tape\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"p\");\n    i0.ɵɵtext(35);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(36, \"div\", 14)(37, \"h4\");\n    i0.ɵɵtext(38, \"description du livret\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"p\");\n    i0.ɵɵtext(40);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(41, \"app-array-dietmeal\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const dietBook_r2 = ctx.ngIf;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(dietBook_r2.id);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(dietBook_r2.title);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(dietBook_r2.pathology);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(dietBook_r2.sexe);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(dietBook_r2.nbStage);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(dietBook_r2.nbWeekPerStage);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(dietBook_r2.description);\n  }\n}\nfunction SingleDietComponent_app_mealform_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-mealform\", 15);\n    i0.ɵɵlistener(\"closeMealForm\", function SingleDietComponent_app_mealform_8_Template_app_mealform_closeMealForm_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onCloseMealFormClicked());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nexport class SingleDietComponent {\n  constructor(route, router, dietBookService, mealService, formBuilder) {\n    this.route = route;\n    this.router = router;\n    this.dietBookService = dietBookService;\n    this.mealService = mealService;\n    this.formBuilder = formBuilder;\n    this.mealOrder = [\"Petit-déjeuner\", \"Collation-am\", \"Déjeuner\", \"Collation-pm1\", \"Collation-pm2\", \"Diner\"];\n    this.closeMealForm = new EventEmitter();\n  }\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      this.dietId = params[\"dietId\"];\n      this.mealId = params[\"mealId\"];\n      this.dietbook$ = this.dietBookService.getDietBookById(this.dietId);\n      // this.dietBookService.getDietBookById(this.dietId).subscribe((book) => {\n      //   this.dietBook = book;\n      // });\n      if (this.mealId === undefined) {\n        this.route.queryParams.subscribe(params => {\n          this.dietId = params[\"dietId\"];\n          this.dietBookService.getDietBookById(this.dietId).subscribe(dietbook => {\n            if (dietbook.meal) {\n              this.mealIds = dietbook.meal.map(m => m);\n              this.loadMeals();\n            }\n          });\n        });\n      } else if (this.mealId !== \"addMeal\" || undefined) {\n        this.mealService.getAllMeat().pipe(map(meals => meals.filter(meal => this.mealIds.includes(meal.id)))).subscribe(filteredMeals => {\n          this.meals = filteredMeals;\n        });\n        if (this.activeButton > 0) {\n          this.onClickButton(this.activeButton);\n        }\n      }\n    });\n  }\n  onCloseMealFormClicked() {\n    this.closeMealForm.emit();\n  }\n  //charge les meals selon le livret dans array\n  loadMeals() {\n    this.dietBookService.getDietBookById(this.dietId).subscribe(book => {\n      this.dietBook = book;\n      if (book.meal) {\n        this.mealIds = book.meal.map(m => m);\n        // Charger les repas correspondants\n        this.mealService.getAllMeat().subscribe(allMeals => {\n          this.meals = allMeals.filter(meal => this.mealIds.includes(meal.id));\n          // Mettre à jour l'affichage des repas en fonction du bouton actif\n          if (this.activeButton) {\n            this.onClickButton(this.activeButton);\n          }\n        });\n      }\n    });\n  }\n  //défini le nombre d'étape pour afficher les boutons de sélection des Meals par semaine\n  getRange(stage) {\n    return Array(stage).fill(0).map((_, index) => index + 1);\n  }\n  //renomme les collations am-pm1-pm2\n  getMealSortName(meal) {\n    let name = meal.typeMeal;\n    let collation = meal.collation;\n    if (meal.typeMeal === \"Collation\") {\n      name += \"-\" + collation;\n    }\n    return name;\n  }\n  // filtre les meals à afficher pour la semaine délectionnée\n  onClickButton(buttonNum) {\n    this.activeButton = buttonNum;\n    this.MealsToDisplay = this.meals.filter(filterStage => {\n      return filterStage.stage.includes(buttonNum);\n    });\n    this.MealsToDisplay.sort((a, b) => {\n      let nameA = this.getMealSortName(a);\n      let nameB = this.getMealSortName(b);\n      return this.mealOrder.indexOf(nameA) - this.mealOrder.indexOf(nameB);\n    });\n  }\n  //accède au livret pour modification des données\n  onModify() {\n    this.router.navigateByUrl(`/modify-diet_book?dietId=${this.dietId}`);\n  }\n  // ajoute un nouveau meal au livret\n  onAddMeal() {\n    this.router.navigateByUrl(`dietbook?dietId=${this.dietId}&mealId=addMeal`);\n  }\n  //remet la variable activeButtonMeal à 0 pour désactiver le meal sélectionné. ne fonctionne pas\n  onMealFormCancel() {\n    console.log(\"annulation reçue dans singleDiet\");\n    this.activeButtonMeal = \"0\";\n  }\n  //accède au meal sélectionné par son id\n  onViewMealForm(id) {\n    this.activeButtonMeal = id;\n    this.router.navigateByUrl(`dietbook?dietId=${this.dietId}&mealId=${id}`);\n  }\n  static #_ = this.ɵfac = function SingleDietComponent_Factory(t) {\n    return new (t || SingleDietComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.DietBooksService), i0.ɵɵdirectiveInject(i3.mealService), i0.ɵɵdirectiveInject(i4.FormBuilder));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SingleDietComponent,\n    selectors: [[\"app-single-diet\"]],\n    outputs: {\n      closeMealForm: \"closeMealForm\"\n    },\n    decls: 9,\n    vars: 4,\n    consts: [[1, \"container\"], [1, \"container-form\"], [\"class\", \"card\", 4, \"ngIf\"], [1, \"form-card-meal\"], [3, \"click\"], [1, \"container-meal\"], [3, \"closeMealForm\", 4, \"ngIf\"], [1, \"card\"], [1, \"form-card-item\"], [1, \"form-card\"], [1, \"form-card-title\"], [1, \"form-card-group\"], [1, \"form-card-group_item\"], [1, \"form-card-group_item\", \"number\"], [1, \"form-card-group_item\", \"description\"], [3, \"closeMealForm\"]],\n    template: function SingleDietComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵtemplate(2, SingleDietComponent_div_2_Template, 42, 7, \"div\", 2);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function SingleDietComponent_Template_button_click_5_listener() {\n          return ctx.onAddMeal();\n        });\n        i0.ɵɵtext(6, \"Ajouter un Repas\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(7, \"div\", 5);\n        i0.ɵɵtemplate(8, SingleDietComponent_app_mealform_8_Template, 1, 0, \"app-mealform\", 6);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 2, ctx.dietbook$));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.mealId !== undefined);\n      }\n    },\n    dependencies: [i5.NgIf, i6.MealformComponent, i7.ArrayDietmealComponent, i5.AsyncPipe],\n    styles: [\"*[_ngcontent-%COMP%] {\\n  box-sizing: border-box;\\n  margin: 0;\\n  position: relative;\\n}\\n\\np[_ngcontent-%COMP%], h3[_ngcontent-%COMP%] {\\n  margin: 0 auto;\\n  font-size: 16px;\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n  position: relative;\\n  display: flex;\\n  justify-content: space-around;\\n  width: 100%;\\n  height: 800px;\\n  margin: 0 auto;\\n  align-self: center;\\n}\\n.container-form[_ngcontent-%COMP%] {\\n  position: relative;\\n  margin-left: 5px;\\n  width: 40%;\\n  min-width: 360px;\\n}\\n.container-meal[_ngcontent-%COMP%] {\\n  min-width: 55%;\\n}\\n\\n.form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-flow: column;\\n  width: 420px;\\n  margin-left: 10px;\\n}\\n\\n.form-card[_ngcontent-%COMP%] {\\n  position: relative;\\n  display: flex;\\n  flex-flow: column;\\n  width: 100%;\\n  height: 100%;\\n  minwidth: 500px;\\n  text-align: left;\\n  border: 2px black double;\\n  padding: 2px;\\n  margin: 0 auto;\\n}\\n.form-card-item[_ngcontent-%COMP%] {\\n  justify-content: space-between;\\n  width: 100%;\\n}\\n.form-card-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\\n  display: flex;\\n  height: 40px;\\n}\\n.form-card-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  width: auto;\\n  margin-right: 20px;\\n}\\n.form-card-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 30px;\\n  height: 20px;\\n}\\n.form-card-title[_ngcontent-%COMP%] {\\n  font-size: 30px;\\n  font-family: poppins;\\n  width: 100%;\\n  margin: 10px 0 20px 0;\\n  text-align: center;\\n}\\n.form-card-group[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  flex-flow: column;\\n  margin: 0 5px 0 5px;\\n}\\n.form-card-group_item[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: flex-start;\\n  height: 30px;\\n}\\n.form-card-group_item[_ngcontent-%COMP%]:nth-child(2) {\\n  margin-bottom: 20px;\\n}\\n.form-card-group_item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  width: 30%;\\n  margin: 0 0;\\n  margin-right: 30px;\\n  min-width: 180px;\\n  font-size: 14px;\\n  font-weight: 800;\\n  line-height: 20px;\\n  text-align: left;\\n}\\n.form-card-group_item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  width: auto;\\n  margin: 0;\\n  font-size: 18px;\\n  line-height: 24px;\\n  color: grey;\\n  text-align: left;\\n}\\n.form-card-group_item.number[_ngcontent-%COMP%] {\\n  margin: auto;\\n  height: 20px;\\n}\\n.form-card-group_item.number[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  min-width: 180px;\\n  font-size: 14px;\\n  justify-content: flex-start;\\n}\\n.form-card-group_item.number[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  width: auto;\\n  border: none;\\n  font-size: 18px;\\n  margin: 0;\\n  text-align: left;\\n}\\n.form-card-group_item.description[_ngcontent-%COMP%] {\\n  height: auto;\\n  display: flex;\\n  flex-flow: column;\\n  margin: 20px 5px 0 5px;\\n}\\n.form-card-group_item.description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  margin: 0;\\n  width: 100%;\\n  min-width: 180px;\\n}\\n.form-card-group_item.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  border: 0.5px gray solid;\\n  text-align: left;\\n  overflow-y: scroll;\\n  width: 95%;\\n  height: 200px;\\n  margin: 0 auto;\\n  font-size: 14px;\\n}\\n.form-card-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-flow: row;\\n  height: 30px;\\n}\\n.form-card-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  width: 30%;\\n}\\n.form-card-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  width: auto;\\n  height: 40px;\\n  font-size: 30px;\\n  line-height: 24px;\\n  color: grey;\\n  text-align: left;\\n}\\n.form-card-item_etape[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: space-between;\\n  height: 60px;\\n}\\n.form-card-meal[_ngcontent-%COMP%] {\\n  transition: all 1s;\\n}\\n\\n.displayMeal_btn[_ngcontent-%COMP%] {\\n  width: auto;\\n  font-size: 10px;\\n}\\n\\n.container-stage[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n}\\n.container-stage[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  width: 30px;\\n}\\n.container-stage_btn[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-start;\\n}\\n\\n.button-stage[_ngcontent-%COMP%] {\\n  width: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbGl2cmV0cy9kaWV0L3NpbmdsZS1kaWV0L3NpbmdsZS1kaWV0LmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vLi4vU2l0ZSUyMFdlYi9CRDIlMjBLb25lY3QvRnJvbnRlbmQvc3JjL2FwcC9saXZyZXRzL2RpZXQvc2luZ2xlLWRpZXQvc2luZ2xlLWRpZXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxzQkFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtBQ0NGOztBREVBOztFQUVFLGNBQUE7RUFDQSxlQUFBO0FDQ0Y7O0FEQ0E7RUFDRSxrQkFBQTtFQUNBLGFBQUE7RUFDQSw2QkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0FDRUY7QURERTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7QUNHSjtBRERFO0VBQ0UsY0FBQTtBQ0dKOztBREFBO0VBQ0UsYUFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FDR0Y7O0FEREE7RUFDRSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUVBLGdCQUFBO0VBQ0Esd0JBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtBQ0dGO0FERkU7RUFDRSw4QkFBQTtFQUNBLFdBQUE7QUNJSjtBREZJO0VBQ0UsYUFBQTtFQUNBLFlBQUE7QUNJTjtBREhNO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0FDS1I7QURITTtFQUNFLGVBQUE7RUFDQSxZQUFBO0FDS1I7QURBRTtFQUNFLGVBQUE7RUFDQSxvQkFBQTtFQUNBLFdBQUE7RUFDQSxxQkFBQTtFQUNBLGtCQUFBO0FDRUo7QURBRTtFQUNFLFdBQUE7RUFDQSxhQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtBQ0VKO0FEQUk7RUFDRSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGNBQUE7RUFDQSwyQkFBQTtFQUNBLFlBQUE7QUNFTjtBRERNO0VBQ0UsbUJBQUE7QUNHUjtBREFNO0VBQ0UsVUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBQ0VSO0FEQU07RUFDRSxXQUFBO0VBQ0EsU0FBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtBQ0VSO0FEQU07RUFDRSxZQUFBO0VBQ0EsWUFBQTtBQ0VSO0FEQVE7RUFDRSxnQkFBQTtFQUNBLGVBQUE7RUFDQSwyQkFBQTtBQ0VWO0FEQVE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxTQUFBO0VBQ0EsZ0JBQUE7QUNFVjtBRENNO0VBQ0UsWUFBQTtFQUNBLGFBQUE7RUFDQSxpQkFBQTtFQUNBLHNCQUFBO0FDQ1I7QURDUTtFQUNFLFNBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUNDVjtBRENRO0VBQ0Usd0JBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLGFBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtBQ0NWO0FESUU7RUFDRSxhQUFBO0VBQ0EsY0FBQTtFQUNBLFlBQUE7QUNGSjtBRElJO0VBQ0UsZUFBQTtFQUNBLFVBQUE7QUNGTjtBRElJO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUNGTjtBRElJO0VBQ0UsYUFBQTtFQUNBLGNBQUE7RUFDQSw4QkFBQTtFQUNBLFlBQUE7QUNGTjtBREtFO0VBQ0Usa0JBQUE7QUNISjs7QURNQTtFQUNFLFdBQUE7RUFDQSxlQUFBO0FDSEY7O0FETUE7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7QUNIRjtBRElFO0VBQ0UsV0FBQTtBQ0ZKO0FESUU7RUFDRSxhQUFBO0VBQ0EsMkJBQUE7QUNGSjs7QURLQTtFQUNFLFdBQUE7QUNGRiIsInNvdXJjZXNDb250ZW50IjpbIioge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBtYXJnaW46IDA7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxucCxcbmgzIHtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIGZvbnQtc2l6ZTogMTZweDtcbn1cbi5jb250YWluZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA4MDBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgJi1mb3JtIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgICB3aWR0aDogNDAlO1xuICAgIG1pbi13aWR0aDogMzYwcHg7XG4gIH1cbiAgJi1tZWFsIHtcbiAgICBtaW4td2lkdGg6IDU1JTtcbiAgfVxufVxuLmZvcm0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IGNvbHVtbjtcbiAgd2lkdGg6IDQyMHB4O1xuICBtYXJnaW4tbGVmdDogMTBweDtcbn1cbi5mb3JtLWNhcmQge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZmxvdzogY29sdW1uO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBtaW53aWR0aDogNTAwcHg7XG5cbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgYm9yZGVyOiAycHggYmxhY2sgZG91YmxlO1xuICBwYWRkaW5nOiAycHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICAmLWl0ZW0ge1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICB3aWR0aDogMTAwJTtcblxuICAgICYgZGl2IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICAmIGgzIHtcbiAgICAgICAgd2lkdGg6IGF1dG87XG4gICAgICAgIG1hcmdpbi1yaWdodDogMjBweDtcbiAgICAgIH1cbiAgICAgICYgcCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMzBweDtcbiAgICAgICAgaGVpZ2h0OiAyMHB4O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gICYtdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMzBweDtcbiAgICBmb250LWZhbWlseTogcG9wcGlucztcbiAgICB3aWR0aDogMTAwJTtcbiAgICBtYXJnaW46IDEwcHggMCAyMHB4IDA7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG4gICYtZ3JvdXAge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1mbG93OiBjb2x1bW47XG4gICAgbWFyZ2luOiAwIDVweCAwIDVweDtcblxuICAgICZfaXRlbSB7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWZsb3c6IHJvdztcbiAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICAgIGhlaWdodDogMzBweDtcbiAgICAgICY6bnRoLWNoaWxkKDIpIHtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgIH1cblxuICAgICAgJiBoNCB7XG4gICAgICAgIHdpZHRoOiAzMCU7XG4gICAgICAgIG1hcmdpbjogMCAwO1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7XG4gICAgICAgIG1pbi13aWR0aDogMTgwcHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDgwMDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICB9XG4gICAgICAmIHAge1xuICAgICAgICB3aWR0aDogYXV0bztcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICAgICAgICBjb2xvcjogZ3JleTtcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIH1cbiAgICAgICYubnVtYmVyIHtcbiAgICAgICAgbWFyZ2luOiBhdXRvO1xuICAgICAgICBoZWlnaHQ6IDIwcHg7XG5cbiAgICAgICAgJiBoNCB7XG4gICAgICAgICAgbWluLXdpZHRoOiAxODBweDtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgICYgcCB7XG4gICAgICAgICAgd2lkdGg6IGF1dG87XG4gICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgJi5kZXNjcmlwdGlvbiB7XG4gICAgICAgIGhlaWdodDogYXV0bztcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1mbG93OiBjb2x1bW47XG4gICAgICAgIG1hcmdpbjogMjBweCA1cHggMCA1cHg7XG5cbiAgICAgICAgJiBoNCB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIG1pbi13aWR0aDogMTgwcHg7XG4gICAgICAgIH1cbiAgICAgICAgJiBwIHtcbiAgICAgICAgICBib3JkZXI6IDAuNXB4IGdyYXkgc29saWQ7XG4gICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgICAgICAgd2lkdGg6IDk1JTtcbiAgICAgICAgICBoZWlnaHQ6IDIwMHB4O1xuICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAmLWl0ZW0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1mbG93OiByb3c7XG4gICAgaGVpZ2h0OiAzMHB4O1xuXG4gICAgJiBoMyB7XG4gICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICB3aWR0aDogMzAlO1xuICAgIH1cbiAgICAmIHAge1xuICAgICAgd2lkdGg6IGF1dG87XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICBmb250LXNpemU6IDMwcHg7XG4gICAgICBsaW5lLWhlaWdodDogMjRweDtcbiAgICAgIGNvbG9yOiBncmV5O1xuICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICB9XG4gICAgJl9ldGFwZSB7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZmxleC1mbG93OiByb3c7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICBoZWlnaHQ6IDYwcHg7XG4gICAgfVxuICB9XG4gICYtbWVhbCB7XG4gICAgdHJhbnNpdGlvbjogYWxsIDFzO1xuICB9XG59XG4uZGlzcGxheU1lYWxfYnRuIHtcbiAgd2lkdGg6IGF1dG87XG4gIGZvbnQtc2l6ZTogMTBweDtcbn1cblxuLmNvbnRhaW5lci1zdGFnZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAmIGJ1dHRvbiB7XG4gICAgd2lkdGg6IDMwcHg7XG4gIH1cbiAgJl9idG4ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICB9XG59XG4uYnV0dG9uLXN0YWdlIHtcbiAgd2lkdGg6IDMwcHg7XG59XG5cbi8vIC5yb3cge1xuLy8gICBkaXNwbGF5OiBmbGV4O1xuLy8gICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbi8vIH1cblxuLy8gLmNvbCB7XG4vLyAgIGZsZXg6IDE7XG4vLyB9XG4iLCIqIHtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgbWFyZ2luOiAwO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbnAsXG5oMyB7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBmb250LXNpemU6IDE2cHg7XG59XG5cbi5jb250YWluZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA4MDBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbn1cbi5jb250YWluZXItZm9ybSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgd2lkdGg6IDQwJTtcbiAgbWluLXdpZHRoOiAzNjBweDtcbn1cbi5jb250YWluZXItbWVhbCB7XG4gIG1pbi13aWR0aDogNTUlO1xufVxuXG4uZm9ybSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZmxvdzogY29sdW1uO1xuICB3aWR0aDogNDIwcHg7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuXG4uZm9ybS1jYXJkIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IGNvbHVtbjtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgbWlud2lkdGg6IDUwMHB4O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBib3JkZXI6IDJweCBibGFjayBkb3VibGU7XG4gIHBhZGRpbmc6IDJweDtcbiAgbWFyZ2luOiAwIGF1dG87XG59XG4uZm9ybS1jYXJkLWl0ZW0ge1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIHdpZHRoOiAxMDAlO1xufVxuLmZvcm0tY2FyZC1pdGVtIGRpdiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGhlaWdodDogNDBweDtcbn1cbi5mb3JtLWNhcmQtaXRlbSBkaXYgaDMge1xuICB3aWR0aDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xufVxuLmZvcm0tY2FyZC1pdGVtIGRpdiBwIHtcbiAgZm9udC1zaXplOiAzMHB4O1xuICBoZWlnaHQ6IDIwcHg7XG59XG4uZm9ybS1jYXJkLXRpdGxlIHtcbiAgZm9udC1zaXplOiAzMHB4O1xuICBmb250LWZhbWlseTogcG9wcGlucztcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbjogMTBweCAwIDIwcHggMDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmZvcm0tY2FyZC1ncm91cCB7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IGNvbHVtbjtcbiAgbWFyZ2luOiAwIDVweCAwIDVweDtcbn1cbi5mb3JtLWNhcmQtZ3JvdXBfaXRlbSB7XG4gIHdpZHRoOiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IHJvdztcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICBoZWlnaHQ6IDMwcHg7XG59XG4uZm9ybS1jYXJkLWdyb3VwX2l0ZW06bnRoLWNoaWxkKDIpIHtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cbi5mb3JtLWNhcmQtZ3JvdXBfaXRlbSBoNCB7XG4gIHdpZHRoOiAzMCU7XG4gIG1hcmdpbjogMCAwO1xuICBtYXJnaW4tcmlnaHQ6IDMwcHg7XG4gIG1pbi13aWR0aDogMTgwcHg7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC13ZWlnaHQ6IDgwMDtcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG59XG4uZm9ybS1jYXJkLWdyb3VwX2l0ZW0gcCB7XG4gIHdpZHRoOiBhdXRvO1xuICBtYXJnaW46IDA7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XG4gIGNvbG9yOiBncmV5O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuLmZvcm0tY2FyZC1ncm91cF9pdGVtLm51bWJlciB7XG4gIG1hcmdpbjogYXV0bztcbiAgaGVpZ2h0OiAyMHB4O1xufVxuLmZvcm0tY2FyZC1ncm91cF9pdGVtLm51bWJlciBoNCB7XG4gIG1pbi13aWR0aDogMTgwcHg7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xufVxuLmZvcm0tY2FyZC1ncm91cF9pdGVtLm51bWJlciBwIHtcbiAgd2lkdGg6IGF1dG87XG4gIGJvcmRlcjogbm9uZTtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBtYXJnaW46IDA7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG59XG4uZm9ybS1jYXJkLWdyb3VwX2l0ZW0uZGVzY3JpcHRpb24ge1xuICBoZWlnaHQ6IGF1dG87XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZmxvdzogY29sdW1uO1xuICBtYXJnaW46IDIwcHggNXB4IDAgNXB4O1xufVxuLmZvcm0tY2FyZC1ncm91cF9pdGVtLmRlc2NyaXB0aW9uIGg0IHtcbiAgbWFyZ2luOiAwO1xuICB3aWR0aDogMTAwJTtcbiAgbWluLXdpZHRoOiAxODBweDtcbn1cbi5mb3JtLWNhcmQtZ3JvdXBfaXRlbS5kZXNjcmlwdGlvbiBwIHtcbiAgYm9yZGVyOiAwLjVweCBncmF5IHNvbGlkO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gIHdpZHRoOiA5NSU7XG4gIGhlaWdodDogMjAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBmb250LXNpemU6IDE0cHg7XG59XG4uZm9ybS1jYXJkLWl0ZW0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IHJvdztcbiAgaGVpZ2h0OiAzMHB4O1xufVxuLmZvcm0tY2FyZC1pdGVtIGgzIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICB3aWR0aDogMzAlO1xufVxuLmZvcm0tY2FyZC1pdGVtIHAge1xuICB3aWR0aDogYXV0bztcbiAgaGVpZ2h0OiA0MHB4O1xuICBmb250LXNpemU6IDMwcHg7XG4gIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICBjb2xvcjogZ3JleTtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbn1cbi5mb3JtLWNhcmQtaXRlbV9ldGFwZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZmxvdzogcm93O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGhlaWdodDogNjBweDtcbn1cbi5mb3JtLWNhcmQtbWVhbCB7XG4gIHRyYW5zaXRpb246IGFsbCAxcztcbn1cblxuLmRpc3BsYXlNZWFsX2J0biB7XG4gIHdpZHRoOiBhdXRvO1xuICBmb250LXNpemU6IDEwcHg7XG59XG5cbi5jb250YWluZXItc3RhZ2Uge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cbi5jb250YWluZXItc3RhZ2UgYnV0dG9uIHtcbiAgd2lkdGg6IDMwcHg7XG59XG4uY29udGFpbmVyLXN0YWdlX2J0biB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbn1cblxuLmJ1dHRvbi1zdGFnZSB7XG4gIHdpZHRoOiAzMHB4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["EventEmitter","map","i0","SingleDietComponent","constructor","route","router","dietBookService","mealService","formBuilder","ngOnInit","queryParams","subscribe","params","dietId","mealId","dietbook$","getDietBookById","undefined","dietbook","meal","mealIds","m","loadMeals","getAllMeat","pipe","meals","filter","includes","id","filteredMeals","activeButton","onClickButton","onCloseMealFormClicked","closeMealForm","emit","book","dietBook","allMeals","getRange","stage","Array","fill","_","index","getMealSortName","name","typeMeal","collation","buttonNum","MealsToDisplay","filterStage","sort","a","b","nameA","nameB","mealOrder","indexOf","onModify","navigateByUrl","onAddMeal","onMealFormCancel","console","log","activeButtonMeal","onViewMealForm","selectors","outputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/ericherduin/Htag/Site Web/BD2 Konect/Frontend/src/app/livrets/diet/single-diet/single-diet.component.ts","/Users/ericherduin/Htag/Site Web/BD2 Konect/Frontend/src/app/livrets/diet/single-diet/single-diet.component.html"],"sourcesContent":["import { Component, OnInit, Output, EventEmitter } from \"@angular/core\";\nimport { Observable, take, tap, map } from \"rxjs\";\nimport { DietBook } from \"src/app/models/diet.model\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { DietBooksService } from \"src/app/services/diet-book.service\";\nimport { FormBuilder, FormGroup } from \"@angular/forms\";\n\nimport { mealService } from \"src/app/services/meal.service\";\nimport { Meal } from \"src/app/models/meal.model\";\n\n@Component({\n  selector: \"app-single-diet\",\n  templateUrl: \"./single-diet.component.html\",\n  styleUrls: [\"./single-diet.component.scss\"],\n})\nexport class SingleDietComponent implements OnInit {\n  dietbook$!: Observable<DietBook>;\n  dietBook!: DietBook;\n  meals!: Meal[];\n  MealsToDisplay!: Meal[];\n  mealIds!: string[];\n  dietBookFormRead!: FormGroup;\n  activeButton!: number;\n  activeButtonMeal!: string;\n  selectedStage!: string;\n  save!: string;\n  mealOrder: string[] = [\n    \"Petit-déjeuner\",\n    \"Collation-am\",\n    \"Déjeuner\",\n    \"Collation-pm1\",\n    \"Collation-pm2\",\n    \"Diner\",\n  ];\n  public dietId!: string;\n  public mealId!: any;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private dietBookService: DietBooksService,\n    private mealService: mealService,\n    private formBuilder: FormBuilder\n  ) {}\n\n  @Output() closeMealForm: EventEmitter<void> = new EventEmitter<void>();\n\n  ngOnInit(): void {\n    this.route.queryParams.subscribe((params) => {\n      this.dietId = params[\"dietId\"];\n      this.mealId = params[\"mealId\"];\n\n      this.dietbook$ = this.dietBookService.getDietBookById(this.dietId);\n      // this.dietBookService.getDietBookById(this.dietId).subscribe((book) => {\n      //   this.dietBook = book;\n      // });\n      if (this.mealId === undefined) {\n        this.route.queryParams.subscribe((params) => {\n          this.dietId = params[\"dietId\"];\n          this.dietBookService\n            .getDietBookById(this.dietId)\n            .subscribe((dietbook) => {\n              if (dietbook.meal) {\n                this.mealIds = dietbook.meal.map((m) => m);\n\n                this.loadMeals();\n              }\n            });\n        });\n      } else if (this.mealId !== \"addMeal\" || undefined) {\n        this.mealService\n          .getAllMeat()\n          .pipe(\n            map((meals) =>\n              meals.filter((meal) => this.mealIds.includes(meal.id))\n            )\n          )\n          .subscribe((filteredMeals) => {\n            this.meals = filteredMeals;\n          });\n\n        if (this.activeButton > 0) {\n          this.onClickButton(this.activeButton);\n        }\n      }\n    });\n  }\n  onCloseMealFormClicked() {\n    this.closeMealForm.emit();\n  }\n\n  //charge les meals selon le livret dans array\n  loadMeals(): void {\n    this.dietBookService.getDietBookById(this.dietId).subscribe((book) => {\n      this.dietBook = book;\n      if (book.meal) {\n        this.mealIds = book.meal.map((m) => m);\n\n        // Charger les repas correspondants\n        this.mealService.getAllMeat().subscribe((allMeals) => {\n          this.meals = allMeals.filter((meal) =>\n            this.mealIds.includes(meal.id)\n          );\n\n          // Mettre à jour l'affichage des repas en fonction du bouton actif\n          if (this.activeButton) {\n            this.onClickButton(this.activeButton);\n          }\n        });\n      }\n    });\n  }\n\n  //défini le nombre d'étape pour afficher les boutons de sélection des Meals par semaine\n  getRange(stage: number): number[] {\n    return Array(stage)\n      .fill(0)\n      .map((_, index) => index + 1);\n  }\n\n  //renomme les collations am-pm1-pm2\n  getMealSortName(meal: Meal) {\n    let name = meal.typeMeal;\n    let collation = meal.collation;\n\n    if (meal.typeMeal === \"Collation\") {\n      name += \"-\" + collation;\n    }\n\n    return name;\n  }\n\n  // filtre les meals à afficher pour la semaine délectionnée\n  onClickButton(buttonNum: number) {\n    this.activeButton = buttonNum;\n\n    this.MealsToDisplay = this.meals.filter((filterStage) => {\n      return filterStage.stage.includes(buttonNum);\n    });\n    this.MealsToDisplay.sort((a, b) => {\n      let nameA = this.getMealSortName(a);\n      let nameB = this.getMealSortName(b);\n\n      return this.mealOrder.indexOf(nameA) - this.mealOrder.indexOf(nameB);\n    });\n  }\n\n  //accède au livret pour modification des données\n  onModify() {\n    this.router.navigateByUrl(`/modify-diet_book?dietId=${this.dietId}`);\n  }\n\n  // ajoute un nouveau meal au livret\n  onAddMeal() {\n    this.router.navigateByUrl(`dietbook?dietId=${this.dietId}&mealId=addMeal`);\n  }\n  //remet la variable activeButtonMeal à 0 pour désactiver le meal sélectionné. ne fonctionne pas\n  onMealFormCancel() {\n    console.log(\"annulation reçue dans singleDiet\");\n    this.activeButtonMeal = \"0\";\n  }\n\n  //accède au meal sélectionné par son id\n  onViewMealForm(id: string) {\n    this.activeButtonMeal = id;\n    this.router.navigateByUrl(`dietbook?dietId=${this.dietId}&mealId=${id}`);\n  }\n}\n","<div class=\"container\">\n  <div class=\"container-form\">\n    <div class=\"card\" *ngIf=\"dietbook$ | async as dietBook\">\n      <div class=\"form-card-item\">\n        <div>\n          <h3>Livret N°</h3>\n          <p>{{ dietBook.id }}</p>\n        </div>\n        <button (click)=\"onModify()\">modifier</button>\n        <button (click)=\"onAddMeal()\">Ajouter un Repas</button>\n      </div>\n      <div class=\"form-card\">\n        <p class=\"form-card-title\">{{ dietBook.title }}</p>\n\n        <div class=\"form-card-group\">\n          <div class=\"form-card-group_item\">\n            <h4>Pathologie</h4>\n            <p>{{ dietBook.pathology }}</p>\n          </div>\n          <div class=\"form-card-group_item\">\n            <h4>Sexe</h4>\n            <p>{{ dietBook.sexe }}</p>\n          </div>\n        </div>\n        <div class=\"form-card-group\">\n          <div class=\"form-card-group_item number\">\n            <h4>Nbre d'étape</h4>\n            <p>{{ dietBook.nbStage }}</p>\n          </div>\n          <div class=\"form-card-group_item number\">\n            <h4>Nbre de semaines/étape</h4>\n            <p>{{ dietBook.nbWeekPerStage }}</p>\n          </div>\n        </div>\n        <div class=\"form-card-group_item description\">\n          <h4>description du livret</h4>\n          <p>{{ dietBook.description }}</p>\n        </div>\n\n        <app-array-dietmeal></app-array-dietmeal>\n      </div>\n    </div>\n    <div class=\"form-card-meal\">\n      <button (click)=\"onAddMeal()\">Ajouter un Repas</button>\n    </div>\n  </div>\n  <div class=\"container-meal\">\n    <app-mealform\n      *ngIf=\"mealId !== undefined\"\n      (closeMealForm)=\"onCloseMealFormClicked()\"\n    ></app-mealform>\n    <!--problème à régler : ne pas charger si mealId est undefined-->\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}