{"ast":null,"code":"import { EventEmitter } from \"@angular/core\";\nimport { map } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/diet-book.service\";\nimport * as i3 from \"src/app/services/meal.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../mealform/mealform.component\";\nimport * as i7 from \"../../../core/array-dietmeal/array-dietmeal.component\";\nfunction SingleDietComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"div\")(3, \"h3\");\n    i0.ɵɵtext(4, \"Livret N\\u00B0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function SingleDietComponent_div_2_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onModify());\n    });\n    i0.ɵɵtext(8, \"modifier\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function SingleDietComponent_div_2_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onAddMeal());\n    });\n    i0.ɵɵtext(10, \"Ajouter un Repas\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 8)(12, \"div\")(13, \"p\", 9);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"p\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 10)(18, \"div\", 11)(19, \"div\", 10)(20, \"h4\");\n    i0.ɵɵtext(21, \"Pathologie\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"p\");\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 10)(25, \"h4\");\n    i0.ɵɵtext(26, \"Sexe\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"p\");\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(29, \"div\", 11)(30, \"div\", 12)(31, \"h4\");\n    i0.ɵɵtext(32, \"Nbre d'\\u00E9tape\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"p\");\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"div\", 12)(36, \"h4\");\n    i0.ɵɵtext(37, \"Nbre de semaines/\\u00E9tape\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"p\");\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(40, \"div\", 13)(41, \"h4\");\n    i0.ɵɵtext(42, \"description du livret\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"p\");\n    i0.ɵɵtext(44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(45, \"app-array-dietmeal\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const dietBook_r2 = ctx.ngIf;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(dietBook_r2.id);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(dietBook_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dietBook_r2.online === 1 ? \"En Ligne\" : \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(dietBook_r2.pathology);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(dietBook_r2.sexe);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(dietBook_r2.nbStage);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(dietBook_r2.nbWeekPerStage);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(dietBook_r2.description);\n  }\n}\nfunction SingleDietComponent_app_mealform_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-mealform\", 14);\n    i0.ɵɵlistener(\"closeMealForm\", function SingleDietComponent_app_mealform_5_Template_app_mealform_closeMealForm_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.onCloseMealFormClicked());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nexport class SingleDietComponent {\n  constructor(route, router, dietBookService, mealService, formBuilder) {\n    this.route = route;\n    this.router = router;\n    this.dietBookService = dietBookService;\n    this.mealService = mealService;\n    this.formBuilder = formBuilder;\n    this.mealOrder = [\"Petit-déjeuner\", \"Collation-am\", \"Déjeuner\", \"Collation-pm1\", \"Collation-pm2\", \"Diner\"];\n    this.closeMealForm = new EventEmitter();\n  }\n  ngOnInit() {\n    this.route.queryParams.subscribe(params => {\n      this.dietId = params[\"dietId\"];\n      this.mealId = params[\"mealId\"];\n      this.dietbook$ = this.dietBookService.getDietBookById(this.dietId);\n      // this.dietBookService.getDietBookById(this.dietId).subscribe((book) => {\n      //   this.dietBook = book;\n      // });\n      if (this.mealId === undefined) {\n        this.route.queryParams.subscribe(params => {\n          this.dietId = params[\"dietId\"];\n          this.dietBookService.getDietBookById(this.dietId).subscribe(dietbook => {\n            if (dietbook.meal) {\n              this.mealIds = dietbook.meal.map(m => m);\n              this.loadMeals();\n            }\n          });\n        });\n      } else if (this.mealId !== \"addMeal\" || undefined) {\n        this.mealService.getAllMeat().pipe(map(meals => meals.filter(meal => this.mealIds.includes(meal.id)))).subscribe(filteredMeals => {\n          this.meals = filteredMeals;\n        });\n        if (this.activeButton > 0) {\n          this.onClickButton(this.activeButton);\n        }\n      }\n    });\n  }\n  onCloseMealFormClicked() {\n    this.closeMealForm.emit();\n  }\n  //charge les meals selon le livret dans array\n  loadMeals() {\n    this.dietBookService.getDietBookById(this.dietId).subscribe(book => {\n      this.dietBook = book;\n      if (book.meal) {\n        this.mealIds = book.meal.map(m => m);\n        // Charger les repas correspondants\n        this.mealService.getAllMeat().subscribe(allMeals => {\n          this.meals = allMeals.filter(meal => this.mealIds.includes(meal.id));\n          // Mettre à jour l'affichage des repas en fonction du bouton actif\n          if (this.activeButton) {\n            this.onClickButton(this.activeButton);\n          }\n        });\n      }\n    });\n  }\n  //défini le nombre d'étape pour afficher les boutons de sélection des Meals par semaine\n  getRange(stage) {\n    return Array(stage).fill(0).map((_, index) => index + 1);\n  }\n  //renomme les collations am-pm1-pm2\n  getMealSortName(meal) {\n    let name = meal.typeMeal;\n    let collation = meal.collation;\n    if (meal.typeMeal === \"Collation\") {\n      name += \"-\" + collation;\n    }\n    return name;\n  }\n  // filtre les meals à afficher pour la semaine délectionnée\n  onClickButton(buttonNum) {\n    this.activeButton = buttonNum;\n    this.MealsToDisplay = this.meals.filter(filterStage => {\n      return filterStage.stage.includes(buttonNum);\n    });\n    this.MealsToDisplay.sort((a, b) => {\n      let nameA = this.getMealSortName(a);\n      let nameB = this.getMealSortName(b);\n      return this.mealOrder.indexOf(nameA) - this.mealOrder.indexOf(nameB);\n    });\n  }\n  //accède au livret pour modification des données\n  onModify() {\n    this.router.navigateByUrl(`/modify-diet_book?dietId=${this.dietId}`);\n  }\n  // ajoute un nouveau meal au livret\n  onAddMeal() {\n    this.router.navigateByUrl(`dietbook?dietId=${this.dietId}&mealId=addMeal`);\n  }\n  //remet la variable activeButtonMeal à 0 pour désactiver le meal sélectionné. ne fonctionne pas\n  onMealFormCancel() {\n    console.log(\"annulation reçue dans singleDiet\");\n    this.activeButtonMeal = \"0\";\n  }\n  //accède au meal sélectionné par son id\n  onViewMealForm(id) {\n    this.activeButtonMeal = id;\n    this.router.navigateByUrl(`dietbook?dietId=${this.dietId}&mealId=${id}`);\n  }\n  static #_ = this.ɵfac = function SingleDietComponent_Factory(t) {\n    return new (t || SingleDietComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.DietBooksService), i0.ɵɵdirectiveInject(i3.mealService), i0.ɵɵdirectiveInject(i4.FormBuilder));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SingleDietComponent,\n    selectors: [[\"app-single-diet\"]],\n    outputs: {\n      closeMealForm: \"closeMealForm\"\n    },\n    decls: 6,\n    vars: 4,\n    consts: [[1, \"container\"], [1, \"container-form\"], [\"class\", \"card\", 4, \"ngIf\"], [1, \"container-meal\"], [3, \"closeMealForm\", 4, \"ngIf\"], [1, \"card\"], [1, \"form-card-item\"], [3, \"click\"], [1, \"form-card\"], [1, \"form-card-title\"], [1, \"form-card-group_item\"], [1, \"form-card-group\"], [1, \"form-card-group_item\", \"number\"], [1, \"form-card-group_item\", \"description\"], [3, \"closeMealForm\"]],\n    template: function SingleDietComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵtemplate(2, SingleDietComponent_div_2_Template, 46, 8, \"div\", 2);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵtemplate(5, SingleDietComponent_app_mealform_5_Template, 1, 0, \"app-mealform\", 4);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 2, ctx.dietbook$));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.mealId !== undefined);\n      }\n    },\n    dependencies: [i5.NgIf, i6.MealformComponent, i7.ArrayDietmealComponent, i5.AsyncPipe],\n    styles: [\"*[_ngcontent-%COMP%] {\\n  box-sizing: border-box;\\n  margin: 0;\\n  position: relative;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  min-width: 500px;\\n}\\n\\np[_ngcontent-%COMP%], h3[_ngcontent-%COMP%] {\\n  margin: 0 auto;\\n  font-size: 16px;\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n  position: relative;\\n  display: flex;\\n  justify-content: space-around;\\n  width: 100%;\\n  min-width: 1250px;\\n  height: 800px;\\n  margin: 0 auto;\\n  align-self: center;\\n}\\n.container-form[_ngcontent-%COMP%] {\\n  position: relative;\\n  margin-left: 5px;\\n  width: 40%;\\n  min-width: 360px;\\n}\\n.container-meal[_ngcontent-%COMP%] {\\n  min-width: 55%;\\n}\\n\\n.form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-flow: column;\\n  width: 420px;\\n  margin-left: 10px;\\n}\\n\\n.form-card[_ngcontent-%COMP%] {\\n  position: relative;\\n  display: flex;\\n  flex-flow: column;\\n  width: 100%;\\n  height: 100%;\\n  text-align: left;\\n  border: 2px black double;\\n  padding: 2px;\\n  margin: 0 auto;\\n}\\n.form-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\\n  display: flex;\\n}\\n.form-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  width: auto;\\n}\\n.form-card-item[_ngcontent-%COMP%] {\\n  justify-content: space-between;\\n  width: 100%;\\n}\\n.form-card-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\\n  display: flex;\\n  height: 40px;\\n}\\n.form-card-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  width: auto;\\n  margin-right: 20px;\\n}\\n.form-card-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 30px;\\n  height: 20px;\\n}\\n.form-card-title[_ngcontent-%COMP%] {\\n  font-size: 30px;\\n  font-family: poppins;\\n  width: 100%;\\n  margin: 10px 0 20px 0;\\n  text-align: center;\\n}\\n.form-card-group[_ngcontent-%COMP%] {\\n  width: 60%;\\n  display: flex;\\n  flex-flow: column;\\n  margin: 0 5px 0 5px;\\n}\\n.form-card-group_item[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: flex-start;\\n  height: 30px;\\n}\\n.form-card-group_item[_ngcontent-%COMP%]:nth-child(2) {\\n  margin-bottom: 20px;\\n}\\n.form-card-group_item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  width: 80px;\\n  margin: 0 0;\\n  margin-right: 30px;\\n  font-size: 14px;\\n  font-weight: 800;\\n  line-height: 20px;\\n  text-align: left;\\n}\\n.form-card-group_item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 12px;\\n  line-height: 24px;\\n  color: grey;\\n  text-align: left;\\n}\\n.form-card-group_item.number[_ngcontent-%COMP%] {\\n  margin: auto;\\n  height: 20px;\\n}\\n.form-card-group_item.number[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  min-width: 180px;\\n  font-size: 14px;\\n  justify-content: flex-start;\\n}\\n.form-card-group_item.number[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  border: none;\\n  font-size: 10px;\\n  margin: 0;\\n  text-align: left;\\n}\\n.form-card-group_item.description[_ngcontent-%COMP%] {\\n  height: auto;\\n  display: flex;\\n  flex-flow: column;\\n  margin: 20px 5px 0 5px;\\n}\\n.form-card-group_item.description[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  margin: 0;\\n  width: 100%;\\n  min-width: 180px;\\n}\\n.form-card-group_item.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  border: 0.5px gray solid;\\n  text-align: left;\\n  overflow-y: scroll;\\n  width: 95%;\\n  height: 200px;\\n  margin: 0 auto;\\n  font-size: 14px;\\n}\\n.form-card-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-flow: row;\\n  height: 30px;\\n}\\n.form-card-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 16px;\\n  width: 30%;\\n}\\n.form-card-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  width: auto;\\n  height: 40px;\\n  font-size: 30px;\\n  line-height: 24px;\\n  color: grey;\\n  text-align: left;\\n}\\n.form-card-item_etape[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-flow: row;\\n  justify-content: space-between;\\n  height: 60px;\\n}\\n.form-card-meal[_ngcontent-%COMP%] {\\n  transition: all 1s;\\n}\\n\\n.displayMeal_btn[_ngcontent-%COMP%] {\\n  width: auto;\\n  font-size: 10px;\\n}\\n\\n.container-stage[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n}\\n.container-stage[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  width: 30px;\\n}\\n.container-stage_btn[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-start;\\n}\\n\\n.button-stage[_ngcontent-%COMP%] {\\n  width: 30px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbGl2cmV0cy9kaWV0L3NpbmdsZS1kaWV0L3NpbmdsZS1kaWV0LmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vLi4vU2l0ZSUyMFdlYi9CRDIlMjBLb25lY3QvRnJvbnRlbmQvc3JjL2FwcC9saXZyZXRzL2RpZXQvc2luZ2xlLWRpZXQvc2luZ2xlLWRpZXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxzQkFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtBQ0NGOztBRENBO0VBQ0UsZ0JBQUE7QUNFRjs7QURDQTs7RUFFRSxjQUFBO0VBQ0EsZUFBQTtBQ0VGOztBREFBO0VBQ0Usa0JBQUE7RUFDQSxhQUFBO0VBQ0EsNkJBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0FDR0Y7QURGRTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7QUNJSjtBREZFO0VBQ0UsY0FBQTtBQ0lKOztBRERBO0VBQ0UsYUFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FDSUY7O0FERkE7RUFDRSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBRUEsZ0JBQUE7RUFDQSx3QkFBQTtFQUNBLFlBQUE7RUFDQSxjQUFBO0FDSUY7QURIRTtFQUNFLGFBQUE7QUNLSjtBREpJO0VBQ0UsV0FBQTtBQ01OO0FESEU7RUFDRSw4QkFBQTtFQUNBLFdBQUE7QUNLSjtBREhJO0VBQ0UsYUFBQTtFQUNBLFlBQUE7QUNLTjtBREpNO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0FDTVI7QURKTTtFQUNFLGVBQUE7RUFDQSxZQUFBO0FDTVI7QURERTtFQUNFLGVBQUE7RUFDQSxvQkFBQTtFQUNBLFdBQUE7RUFDQSxxQkFBQTtFQUNBLGtCQUFBO0FDR0o7QURERTtFQUNFLFVBQUE7RUFDQSxhQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtBQ0dKO0FEREk7RUFDRSxhQUFBO0VBQ0EsY0FBQTtFQUNBLDJCQUFBO0VBQ0EsWUFBQTtBQ0dOO0FERk07RUFDRSxtQkFBQTtBQ0lSO0FERE07RUFDRSxXQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBRUEsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBQ0VSO0FEQU07RUFDRSxTQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0FDRVI7QURBTTtFQUNFLFlBQUE7RUFDQSxZQUFBO0FDRVI7QURBUTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLDJCQUFBO0FDRVY7QURBUTtFQUNFLFlBQUE7RUFDQSxlQUFBO0VBQ0EsU0FBQTtFQUNBLGdCQUFBO0FDRVY7QURDTTtFQUNFLFlBQUE7RUFDQSxhQUFBO0VBQ0EsaUJBQUE7RUFDQSxzQkFBQTtBQ0NSO0FEQ1E7RUFDRSxTQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0FDQ1Y7QURDUTtFQUNFLHdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxhQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7QUNDVjtBRElFO0VBQ0UsYUFBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0FDRko7QURJSTtFQUNFLGVBQUE7RUFDQSxVQUFBO0FDRk47QURJSTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0FDRk47QURJSTtFQUNFLGFBQUE7RUFDQSxjQUFBO0VBQ0EsOEJBQUE7RUFDQSxZQUFBO0FDRk47QURLRTtFQUNFLGtCQUFBO0FDSEo7O0FETUE7RUFDRSxXQUFBO0VBQ0EsZUFBQTtBQ0hGOztBRE1BO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0FDSEY7QURJRTtFQUNFLFdBQUE7QUNGSjtBRElFO0VBQ0UsYUFBQTtFQUNBLDJCQUFBO0FDRko7O0FES0E7RUFDRSxXQUFBO0FDRkYiLCJzb3VyY2VzQ29udGVudCI6WyIqIHtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgbWFyZ2luOiAwO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4uY2FyZCB7XG4gIG1pbi13aWR0aDogNTAwcHg7XG59XG5cbnAsXG5oMyB7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBmb250LXNpemU6IDE2cHg7XG59XG4uY29udGFpbmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgd2lkdGg6IDEwMCU7XG4gIG1pbi13aWR0aDogMTI1MHB4O1xuICBoZWlnaHQ6IDgwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAmLWZvcm0ge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgIHdpZHRoOiA0MCU7XG4gICAgbWluLXdpZHRoOiAzNjBweDtcbiAgfVxuICAmLW1lYWwge1xuICAgIG1pbi13aWR0aDogNTUlO1xuICB9XG59XG4uZm9ybSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZmxvdzogY29sdW1uO1xuICB3aWR0aDogNDIwcHg7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xufVxuLmZvcm0tY2FyZCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1mbG93OiBjb2x1bW47XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG5cbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgYm9yZGVyOiAycHggYmxhY2sgZG91YmxlO1xuICBwYWRkaW5nOiAycHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICAmIGRpdiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICAmIHAge1xuICAgICAgd2lkdGg6IGF1dG87XG4gICAgfVxuICB9XG4gICYtaXRlbSB7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgJiBkaXYge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGhlaWdodDogNDBweDtcbiAgICAgICYgaDMge1xuICAgICAgICB3aWR0aDogYXV0bztcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xuICAgICAgfVxuICAgICAgJiBwIHtcbiAgICAgICAgZm9udC1zaXplOiAzMHB4O1xuICAgICAgICBoZWlnaHQ6IDIwcHg7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgJi10aXRsZSB7XG4gICAgZm9udC1zaXplOiAzMHB4O1xuICAgIGZvbnQtZmFtaWx5OiBwb3BwaW5zO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1hcmdpbjogMTBweCAwIDIwcHggMDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cbiAgJi1ncm91cCB7XG4gICAgd2lkdGg6IDYwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZmxvdzogY29sdW1uO1xuICAgIG1hcmdpbjogMCA1cHggMCA1cHg7XG5cbiAgICAmX2l0ZW0ge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZmxvdzogcm93O1xuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgaGVpZ2h0OiAzMHB4O1xuICAgICAgJjpudGgtY2hpbGQoMikge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgfVxuXG4gICAgICAmIGg0IHtcbiAgICAgICAgd2lkdGg6IDgwcHg7XG4gICAgICAgIG1hcmdpbjogMCAwO1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDMwcHg7XG5cbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICBmb250LXdlaWdodDogODAwO1xuICAgICAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgIH1cbiAgICAgICYgcCB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBsaW5lLWhlaWdodDogMjRweDtcbiAgICAgICAgY29sb3I6IGdyZXk7XG4gICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICB9XG4gICAgICAmLm51bWJlciB7XG4gICAgICAgIG1hcmdpbjogYXV0bztcbiAgICAgICAgaGVpZ2h0OiAyMHB4O1xuXG4gICAgICAgICYgaDQge1xuICAgICAgICAgIG1pbi13aWR0aDogMTgwcHg7XG4gICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICAgICAgfVxuICAgICAgICAmIHAge1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICYuZGVzY3JpcHRpb24ge1xuICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZmxvdzogY29sdW1uO1xuICAgICAgICBtYXJnaW46IDIwcHggNXB4IDAgNXB4O1xuXG4gICAgICAgICYgaDQge1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICBtaW4td2lkdGg6IDE4MHB4O1xuICAgICAgICB9XG4gICAgICAgICYgcCB7XG4gICAgICAgICAgYm9yZGVyOiAwLjVweCBncmF5IHNvbGlkO1xuICAgICAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICAgICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgICAgICAgIHdpZHRoOiA5NSU7XG4gICAgICAgICAgaGVpZ2h0OiAyMDBweDtcbiAgICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgJi1pdGVtIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZmxvdzogcm93O1xuICAgIGhlaWdodDogMzBweDtcblxuICAgICYgaDMge1xuICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgd2lkdGg6IDMwJTtcbiAgICB9XG4gICAgJiBwIHtcbiAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgZm9udC1zaXplOiAzMHB4O1xuICAgICAgbGluZS1oZWlnaHQ6IDI0cHg7XG4gICAgICBjb2xvcjogZ3JleTtcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgfVxuICAgICZfZXRhcGUge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZmxvdzogcm93O1xuICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgaGVpZ2h0OiA2MHB4O1xuICAgIH1cbiAgfVxuICAmLW1lYWwge1xuICAgIHRyYW5zaXRpb246IGFsbCAxcztcbiAgfVxufVxuLmRpc3BsYXlNZWFsX2J0biB7XG4gIHdpZHRoOiBhdXRvO1xuICBmb250LXNpemU6IDEwcHg7XG59XG5cbi5jb250YWluZXItc3RhZ2Uge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgJiBidXR0b24ge1xuICAgIHdpZHRoOiAzMHB4O1xuICB9XG4gICZfYnRuIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgfVxufVxuLmJ1dHRvbi1zdGFnZSB7XG4gIHdpZHRoOiAzMHB4O1xufVxuXG4vLyAucm93IHtcbi8vICAgZGlzcGxheTogZmxleDtcbi8vICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4vLyB9XG5cbi8vIC5jb2wge1xuLy8gICBmbGV4OiAxO1xuLy8gfVxuIiwiKiB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIG1hcmdpbjogMDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uY2FyZCB7XG4gIG1pbi13aWR0aDogNTAwcHg7XG59XG5cbnAsXG5oMyB7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBmb250LXNpemU6IDE2cHg7XG59XG5cbi5jb250YWluZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xuICB3aWR0aDogMTAwJTtcbiAgbWluLXdpZHRoOiAxMjUwcHg7XG4gIGhlaWdodDogODAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBhbGlnbi1zZWxmOiBjZW50ZXI7XG59XG4uY29udGFpbmVyLWZvcm0ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG1hcmdpbi1sZWZ0OiA1cHg7XG4gIHdpZHRoOiA0MCU7XG4gIG1pbi13aWR0aDogMzYwcHg7XG59XG4uY29udGFpbmVyLW1lYWwge1xuICBtaW4td2lkdGg6IDU1JTtcbn1cblxuLmZvcm0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IGNvbHVtbjtcbiAgd2lkdGg6IDQyMHB4O1xuICBtYXJnaW4tbGVmdDogMTBweDtcbn1cblxuLmZvcm0tY2FyZCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1mbG93OiBjb2x1bW47XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGJvcmRlcjogMnB4IGJsYWNrIGRvdWJsZTtcbiAgcGFkZGluZzogMnB4O1xuICBtYXJnaW46IDAgYXV0bztcbn1cbi5mb3JtLWNhcmQgZGl2IHtcbiAgZGlzcGxheTogZmxleDtcbn1cbi5mb3JtLWNhcmQgZGl2IHAge1xuICB3aWR0aDogYXV0bztcbn1cbi5mb3JtLWNhcmQtaXRlbSB7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgd2lkdGg6IDEwMCU7XG59XG4uZm9ybS1jYXJkLWl0ZW0gZGl2IHtcbiAgZGlzcGxheTogZmxleDtcbiAgaGVpZ2h0OiA0MHB4O1xufVxuLmZvcm0tY2FyZC1pdGVtIGRpdiBoMyB7XG4gIHdpZHRoOiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IDIwcHg7XG59XG4uZm9ybS1jYXJkLWl0ZW0gZGl2IHAge1xuICBmb250LXNpemU6IDMwcHg7XG4gIGhlaWdodDogMjBweDtcbn1cbi5mb3JtLWNhcmQtdGl0bGUge1xuICBmb250LXNpemU6IDMwcHg7XG4gIGZvbnQtZmFtaWx5OiBwb3BwaW5zO1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiAxMHB4IDAgMjBweCAwO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uZm9ybS1jYXJkLWdyb3VwIHtcbiAgd2lkdGg6IDYwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1mbG93OiBjb2x1bW47XG4gIG1hcmdpbjogMCA1cHggMCA1cHg7XG59XG4uZm9ybS1jYXJkLWdyb3VwX2l0ZW0ge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IHJvdztcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICBoZWlnaHQ6IDMwcHg7XG59XG4uZm9ybS1jYXJkLWdyb3VwX2l0ZW06bnRoLWNoaWxkKDIpIHtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cbi5mb3JtLWNhcmQtZ3JvdXBfaXRlbSBoNCB7XG4gIHdpZHRoOiA4MHB4O1xuICBtYXJnaW46IDAgMDtcbiAgbWFyZ2luLXJpZ2h0OiAzMHB4O1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtd2VpZ2h0OiA4MDA7XG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuLmZvcm0tY2FyZC1ncm91cF9pdGVtIHAge1xuICBtYXJnaW46IDA7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XG4gIGNvbG9yOiBncmV5O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuLmZvcm0tY2FyZC1ncm91cF9pdGVtLm51bWJlciB7XG4gIG1hcmdpbjogYXV0bztcbiAgaGVpZ2h0OiAyMHB4O1xufVxuLmZvcm0tY2FyZC1ncm91cF9pdGVtLm51bWJlciBoNCB7XG4gIG1pbi13aWR0aDogMTgwcHg7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xufVxuLmZvcm0tY2FyZC1ncm91cF9pdGVtLm51bWJlciBwIHtcbiAgYm9yZGVyOiBub25lO1xuICBmb250LXNpemU6IDEwcHg7XG4gIG1hcmdpbjogMDtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbn1cbi5mb3JtLWNhcmQtZ3JvdXBfaXRlbS5kZXNjcmlwdGlvbiB7XG4gIGhlaWdodDogYXV0bztcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1mbG93OiBjb2x1bW47XG4gIG1hcmdpbjogMjBweCA1cHggMCA1cHg7XG59XG4uZm9ybS1jYXJkLWdyb3VwX2l0ZW0uZGVzY3JpcHRpb24gaDQge1xuICBtYXJnaW46IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBtaW4td2lkdGg6IDE4MHB4O1xufVxuLmZvcm0tY2FyZC1ncm91cF9pdGVtLmRlc2NyaXB0aW9uIHAge1xuICBib3JkZXI6IDAuNXB4IGdyYXkgc29saWQ7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgd2lkdGg6IDk1JTtcbiAgaGVpZ2h0OiAyMDBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIGZvbnQtc2l6ZTogMTRweDtcbn1cbi5mb3JtLWNhcmQtaXRlbSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZmxvdzogcm93O1xuICBoZWlnaHQ6IDMwcHg7XG59XG4uZm9ybS1jYXJkLWl0ZW0gaDMge1xuICBmb250LXNpemU6IDE2cHg7XG4gIHdpZHRoOiAzMCU7XG59XG4uZm9ybS1jYXJkLWl0ZW0gcCB7XG4gIHdpZHRoOiBhdXRvO1xuICBoZWlnaHQ6IDQwcHg7XG4gIGZvbnQtc2l6ZTogMzBweDtcbiAgbGluZS1oZWlnaHQ6IDI0cHg7XG4gIGNvbG9yOiBncmV5O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuLmZvcm0tY2FyZC1pdGVtX2V0YXBlIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1mbG93OiByb3c7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgaGVpZ2h0OiA2MHB4O1xufVxuLmZvcm0tY2FyZC1tZWFsIHtcbiAgdHJhbnNpdGlvbjogYWxsIDFzO1xufVxuXG4uZGlzcGxheU1lYWxfYnRuIHtcbiAgd2lkdGg6IGF1dG87XG4gIGZvbnQtc2l6ZTogMTBweDtcbn1cblxuLmNvbnRhaW5lci1zdGFnZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuLmNvbnRhaW5lci1zdGFnZSBidXR0b24ge1xuICB3aWR0aDogMzBweDtcbn1cbi5jb250YWluZXItc3RhZ2VfYnRuIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xufVxuXG4uYnV0dG9uLXN0YWdlIHtcbiAgd2lkdGg6IDMwcHg7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["EventEmitter","map","i0","SingleDietComponent","constructor","route","router","dietBookService","mealService","formBuilder","ngOnInit","queryParams","subscribe","params","dietId","mealId","dietbook$","getDietBookById","undefined","dietbook","meal","mealIds","m","loadMeals","getAllMeat","pipe","meals","filter","includes","id","filteredMeals","activeButton","onClickButton","onCloseMealFormClicked","closeMealForm","emit","book","dietBook","allMeals","getRange","stage","Array","fill","_","index","getMealSortName","name","typeMeal","collation","buttonNum","MealsToDisplay","filterStage","sort","a","b","nameA","nameB","mealOrder","indexOf","onModify","navigateByUrl","onAddMeal","onMealFormCancel","console","log","activeButtonMeal","onViewMealForm","selectors","outputs","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/ericherduin/Htag/Site Web/BD2 Konect/Frontend/src/app/livrets/diet/single-diet/single-diet.component.ts","/Users/ericherduin/Htag/Site Web/BD2 Konect/Frontend/src/app/livrets/diet/single-diet/single-diet.component.html"],"sourcesContent":["import { Component, OnInit, Output, EventEmitter } from \"@angular/core\";\nimport { Observable, take, tap, map } from \"rxjs\";\nimport { DietBook } from \"src/app/models/diet.model\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { DietBooksService } from \"src/app/services/diet-book.service\";\nimport { FormBuilder, FormGroup } from \"@angular/forms\";\n\nimport { mealService } from \"src/app/services/meal.service\";\nimport { Meal } from \"src/app/models/meal.model\";\n\n@Component({\n  selector: \"app-single-diet\",\n  templateUrl: \"./single-diet.component.html\",\n  styleUrls: [\"./single-diet.component.scss\"],\n})\nexport class SingleDietComponent implements OnInit {\n  dietbook$!: Observable<DietBook>;\n  dietBook!: DietBook;\n  meals!: Meal[];\n  MealsToDisplay!: Meal[];\n  mealIds!: string[];\n  dietBookFormRead!: FormGroup;\n  activeButton!: number;\n  activeButtonMeal!: string;\n  selectedStage!: string;\n  save!: string;\n  mealOrder: string[] = [\n    \"Petit-déjeuner\",\n    \"Collation-am\",\n    \"Déjeuner\",\n    \"Collation-pm1\",\n    \"Collation-pm2\",\n    \"Diner\",\n  ];\n  public dietId!: string;\n  public mealId!: any;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private dietBookService: DietBooksService,\n    private mealService: mealService,\n    private formBuilder: FormBuilder\n  ) {}\n\n  @Output() closeMealForm: EventEmitter<void> = new EventEmitter<void>();\n\n  ngOnInit(): void {\n    this.route.queryParams.subscribe((params) => {\n      this.dietId = params[\"dietId\"];\n      this.mealId = params[\"mealId\"];\n\n      this.dietbook$ = this.dietBookService.getDietBookById(this.dietId);\n      // this.dietBookService.getDietBookById(this.dietId).subscribe((book) => {\n      //   this.dietBook = book;\n      // });\n      if (this.mealId === undefined) {\n        this.route.queryParams.subscribe((params) => {\n          this.dietId = params[\"dietId\"];\n          this.dietBookService\n            .getDietBookById(this.dietId)\n            .subscribe((dietbook) => {\n              if (dietbook.meal) {\n                this.mealIds = dietbook.meal.map((m) => m);\n\n                this.loadMeals();\n              }\n            });\n        });\n      } else if (this.mealId !== \"addMeal\" || undefined) {\n        this.mealService\n          .getAllMeat()\n          .pipe(\n            map((meals) =>\n              meals.filter((meal) => this.mealIds.includes(meal.id))\n            )\n          )\n          .subscribe((filteredMeals) => {\n            this.meals = filteredMeals;\n          });\n\n        if (this.activeButton > 0) {\n          this.onClickButton(this.activeButton);\n        }\n      }\n    });\n  }\n  onCloseMealFormClicked() {\n    this.closeMealForm.emit();\n  }\n\n  //charge les meals selon le livret dans array\n  loadMeals(): void {\n    this.dietBookService.getDietBookById(this.dietId).subscribe((book) => {\n      this.dietBook = book;\n      if (book.meal) {\n        this.mealIds = book.meal.map((m) => m);\n\n        // Charger les repas correspondants\n        this.mealService.getAllMeat().subscribe((allMeals) => {\n          this.meals = allMeals.filter((meal) =>\n            this.mealIds.includes(meal.id)\n          );\n\n          // Mettre à jour l'affichage des repas en fonction du bouton actif\n          if (this.activeButton) {\n            this.onClickButton(this.activeButton);\n          }\n        });\n      }\n    });\n  }\n\n  //défini le nombre d'étape pour afficher les boutons de sélection des Meals par semaine\n  getRange(stage: number): number[] {\n    return Array(stage)\n      .fill(0)\n      .map((_, index) => index + 1);\n  }\n\n  //renomme les collations am-pm1-pm2\n  getMealSortName(meal: Meal) {\n    let name = meal.typeMeal;\n    let collation = meal.collation;\n\n    if (meal.typeMeal === \"Collation\") {\n      name += \"-\" + collation;\n    }\n\n    return name;\n  }\n\n  // filtre les meals à afficher pour la semaine délectionnée\n  onClickButton(buttonNum: number) {\n    this.activeButton = buttonNum;\n\n    this.MealsToDisplay = this.meals.filter((filterStage) => {\n      return filterStage.stage.includes(buttonNum);\n    });\n    this.MealsToDisplay.sort((a, b) => {\n      let nameA = this.getMealSortName(a);\n      let nameB = this.getMealSortName(b);\n\n      return this.mealOrder.indexOf(nameA) - this.mealOrder.indexOf(nameB);\n    });\n  }\n\n  //accède au livret pour modification des données\n  onModify() {\n    this.router.navigateByUrl(`/modify-diet_book?dietId=${this.dietId}`);\n  }\n\n  // ajoute un nouveau meal au livret\n  onAddMeal() {\n    this.router.navigateByUrl(`dietbook?dietId=${this.dietId}&mealId=addMeal`);\n  }\n  //remet la variable activeButtonMeal à 0 pour désactiver le meal sélectionné. ne fonctionne pas\n  onMealFormCancel() {\n    console.log(\"annulation reçue dans singleDiet\");\n    this.activeButtonMeal = \"0\";\n  }\n\n  //accède au meal sélectionné par son id\n  onViewMealForm(id: string) {\n    this.activeButtonMeal = id;\n    this.router.navigateByUrl(`dietbook?dietId=${this.dietId}&mealId=${id}`);\n  }\n}\n","<div class=\"container\">\n  <div class=\"container-form\">\n    <div class=\"card\" *ngIf=\"dietbook$ | async as dietBook\">\n      <div class=\"form-card-item\">\n        <div>\n          <h3>Livret N°</h3>\n          <p>{{ dietBook.id }}</p>\n        </div>\n        <button (click)=\"onModify()\">modifier</button>\n        <button (click)=\"onAddMeal()\">Ajouter un Repas</button>\n      </div>\n      <div class=\"form-card\">\n        <div>\n          <p class=\"form-card-title\">{{ dietBook.title }}</p>\n          <p>{{ dietBook.online === 1 ? \"En Ligne\" : \"\" }}</p>\n        </div>\n        <div class=\"form-card-group_item\">\n          <div class=\"form-card-group\">\n            <div class=\"form-card-group_item\">\n              <h4>Pathologie</h4>\n              <p>{{ dietBook.pathology }}</p>\n            </div>\n            <div class=\"form-card-group_item\">\n              <h4>Sexe</h4>\n              <p>{{ dietBook.sexe }}</p>\n            </div>\n          </div>\n          <div class=\"form-card-group\">\n            <div class=\"form-card-group_item number\">\n              <h4>Nbre d'étape</h4>\n              <p>{{ dietBook.nbStage }}</p>\n            </div>\n            <div class=\"form-card-group_item number\">\n              <h4>Nbre de semaines/étape</h4>\n              <p>{{ dietBook.nbWeekPerStage }}</p>\n            </div>\n          </div>\n        </div>\n        <div class=\"form-card-group_item description\">\n          <h4>description du livret</h4>\n          <p>{{ dietBook.description }}</p>\n        </div>\n\n        <app-array-dietmeal></app-array-dietmeal>\n      </div>\n    </div>\n  </div>\n  <div class=\"container-meal\">\n    <app-mealform\n      *ngIf=\"mealId !== undefined\"\n      (closeMealForm)=\"onCloseMealFormClicked()\"\n    ></app-mealform>\n    <!--problème à régler : ne pas charger si mealId est undefined-->\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}