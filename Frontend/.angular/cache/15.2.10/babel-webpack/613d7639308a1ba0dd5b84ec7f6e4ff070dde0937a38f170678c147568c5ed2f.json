{"ast":null,"code":"import { FormControl, Validators } from \"@angular/forms\";\nimport { EMPTY, catchError } from \"rxjs\";\nimport { tap, switchMap } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/recipe.service\";\nimport * as i4 from \"src/app/services/diet-book.service\";\nexport class RecipeFormComponent {\n  constructor(formBuilder, router, Recipes, route, dietBooks) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.Recipes = Recipes;\n    this.route = route;\n    this.dietBooks = dietBooks;\n  }\n  ngOnInit() {\n    this.loading = true;\n    this.recipeId = this.route.snapshot.queryParams[\"recipeId\"];\n    this.route.queryParams.pipe(switchMap(params => {\n      if (!this.recipeId) {\n        this.mode = \"new\";\n        this.loading = false;\n        this.initEmptyForm();\n        return EMPTY;\n      } else {\n        this.mode = \"edit\";\n        return this.Recipes.getRecipeById(params[\"recipeId\"]);\n      }\n    }), tap(recipe => {\n      if (recipe) {\n        this.recipeBook = recipe;\n        this.loading = false;\n        this.initModifyForm(recipe);\n      }\n    }), catchError(error => this.errorMsg = JSON.stringify(error))).subscribe();\n  }\n  initEmptyForm() {\n    this.recipeForm = this.formBuilder.group({\n      title: new FormControl(\"\", Validators.required)\n    });\n  }\n  initModifyForm(recipebook) {\n    this.recipeForm = this.formBuilder.group({\n      id: recipebook.id,\n      title: recipebook.title\n    });\n  }\n  static #_ = this.ɵfac = function RecipeFormComponent_Factory(t) {\n    return new (t || RecipeFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.RecipeService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i4.DietBooksService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RecipeFormComponent,\n    selectors: [[\"app-recipe-form\"]],\n    decls: 10,\n    vars: 0,\n    consts: [[1, \"row_entire\"], [1, \"border\", \"col\"], [1, \"border\", \"col3\"], [1, \"border\", \"col1\"]],\n    template: function RecipeFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"div\", 2)(3, \"div\", 2)(4, \"div\", 2)(5, \"div\", 2)(6, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"div\", 3);\n        i0.ɵɵelementStart(8, \"p\");\n        i0.ɵɵtext(9, \"recipe-form works!\");\n        i0.ɵɵelementEnd()();\n      }\n    },\n    styles: [\".border[_ngcontent-%COMP%] {\\n  border: 1px solid black;\\n}\\n\\n.col[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-flow: column;\\n  width: 70%;\\n}\\n.col3[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 75px;\\n}\\n.col1[_ngcontent-%COMP%] {\\n  width: 24%;\\n  height: 100%;\\n}\\n\\n.row[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-flow: row;\\n}\\n.row_entire[_ngcontent-%COMP%] {\\n  width: 80%;\\n  margin: 0 auto;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbGl2cmV0cy9yZWNpcGUvcmVjaXBlLWZvcm0vcmVjaXBlLWZvcm0uY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi8uLi8uLi8uLi9TaXRlJTIwV2ViL0JEMiUyMEtvbmVjdC9Gcm9udGVuZC9zcmMvYXBwL2xpdnJldHMvcmVjaXBlL3JlY2lwZS1mb3JtL3JlY2lwZS1mb3JtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsdUJBQUE7QUNDRjs7QURDQTtFQUNFLGFBQUE7RUFDQSxpQkFBQTtFQUNBLFVBQUE7QUNFRjtBREFFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7QUNFSjtBREFFO0VBQ0UsVUFBQTtFQUNBLFlBQUE7QUNFSjs7QURDQTtFQUNFLGFBQUE7RUFDQSxjQUFBO0FDRUY7QURERTtFQUNFLFVBQUE7RUFDQSxjQUFBO0FDR0oiLCJzb3VyY2VzQ29udGVudCI6WyIuYm9yZGVyIHtcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG59XG4uY29sIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1mbG93OiBjb2x1bW47XG4gIHdpZHRoOiA3MCU7XG5cbiAgJjMge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogNzVweDtcbiAgfVxuICAmMSB7XG4gICAgd2lkdGg6IDI0JTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cbn1cbi5yb3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IHJvdztcbiAgJl9lbnRpcmUge1xuICAgIHdpZHRoOiA4MCU7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gIH1cbn1cbiIsIi5ib3JkZXIge1xuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbn1cblxuLmNvbCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZmxvdzogY29sdW1uO1xuICB3aWR0aDogNzAlO1xufVxuLmNvbDMge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA3NXB4O1xufVxuLmNvbDEge1xuICB3aWR0aDogMjQlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5yb3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IHJvdztcbn1cbi5yb3dfZW50aXJlIHtcbiAgd2lkdGg6IDgwJTtcbiAgbWFyZ2luOiAwIGF1dG87XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"AACA,SAGEA,WAAW,EACXC,UAAU,QACL,gBAAgB;AAEvB,SAAqBC,KAAK,EAAEC,UAAU,QAAQ,MAAM;AACpD,SAASC,GAAG,EAAOC,SAAS,QAAQ,gBAAgB;;;;;;AAUpD,OAAM,MAAOC,mBAAmB;EAS9BC,YACUC,WAAwB,EACxBC,MAAc,EACdC,OAAsB,EACtBC,KAAqB,EACrBC,SAA2B;IAJ3B,gBAAW,GAAXJ,WAAW;IACX,WAAM,GAANC,MAAM;IACN,YAAO,GAAPC,OAAO;IACP,UAAK,GAALC,KAAK;IACL,cAAS,GAATC,SAAS;EAChB;EACHC,QAAQ;IACN,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,WAAW,CAAC,UAAU,CAAC;IAE3D,IAAI,CAACN,KAAK,CAACM,WAAW,CACnBC,IAAI,CACHb,SAAS,CAAEc,MAAM,IAAI;MACnB,IAAI,CAAC,IAAI,CAACJ,QAAQ,EAAE;QAClB,IAAI,CAACK,IAAI,GAAG,KAAK;QACjB,IAAI,CAACN,OAAO,GAAG,KAAK;QACpB,IAAI,CAACO,aAAa,EAAE;QACpB,OAAOnB,KAAK;OACb,MAAM;QACL,IAAI,CAACkB,IAAI,GAAG,MAAM;QAClB,OAAO,IAAI,CAACV,OAAO,CAACY,aAAa,CAACH,MAAM,CAAC,UAAU,CAAC,CAAC;;IAEzD,CAAC,CAAC,EACFf,GAAG,CAAEmB,MAAM,IAAI;MACb,IAAIA,MAAM,EAAE;QACV,IAAI,CAACC,UAAU,GAAGD,MAAM;QACxB,IAAI,CAACT,OAAO,GAAG,KAAK;QACpB,IAAI,CAACW,cAAc,CAACF,MAAM,CAAC;;IAE/B,CAAC,CAAC,EACFpB,UAAU,CAAEuB,KAAK,IAAM,IAAI,CAACC,QAAQ,GAAGC,IAAI,CAACC,SAAS,CAACH,KAAK,CAAE,CAAC,CAC/D,CACAI,SAAS,EAAE;EAChB;EAEAT,aAAa;IACX,IAAI,CAACU,UAAU,GAAG,IAAI,CAACvB,WAAW,CAACwB,KAAK,CAAC;MACvCC,KAAK,EAAE,IAAIjC,WAAW,CAAC,EAAE,EAAEC,UAAU,CAACiC,QAAQ;KAC/C,CAAC;EACJ;EAEAT,cAAc,CAACU,UAAkB;IAC/B,IAAI,CAACJ,UAAU,GAAG,IAAI,CAACvB,WAAW,CAACwB,KAAK,CAAC;MACvCI,EAAE,EAAED,UAAU,CAACC,EAAE;MACjBH,KAAK,EAAEE,UAAU,CAACF;KACnB,CAAC;EACJ;EAAC;qBAxDU3B,mBAAmB;EAAA;EAAA;UAAnBA,mBAAmB;IAAA+B;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCnBhCC,8BAAwB;QAEpBA,yBAA+B;QAKjCA,iBAAM;QACNA,yBAA+B;QAC/BA,yBAAG;QAAAA,kCAAkB;QAAAA,iBAAI","names":["FormControl","Validators","EMPTY","catchError","tap","switchMap","RecipeFormComponent","constructor","formBuilder","router","Recipes","route","dietBooks","ngOnInit","loading","recipeId","snapshot","queryParams","pipe","params","mode","initEmptyForm","getRecipeById","recipe","recipeBook","initModifyForm","error","errorMsg","JSON","stringify","subscribe","recipeForm","group","title","required","recipebook","id","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["/Users/ericherduin/Htag/Site Web/BD2 Konect/Frontend/src/app/livrets/recipe/recipe-form/recipe-form.component.ts","/Users/ericherduin/Htag/Site Web/BD2 Konect/Frontend/src/app/livrets/recipe/recipe-form/recipe-form.component.html"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport {\n  FormBuilder,\n  FormGroup,\n  FormControl,\n  Validators,\n} from \"@angular/forms\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { Observable, EMPTY, catchError } from \"rxjs\";\nimport { tap, map, switchMap } from \"rxjs/operators\";\nimport { Recipe } from \"src/app/models/recipe.model\";\nimport { DietBooksService } from \"src/app/services/diet-book.service\";\nimport { RecipeService } from \"src/app/services/recipe.service\";\n\n@Component({\n  selector: \"app-recipe-form\",\n  templateUrl: \"./recipe-form.component.html\",\n  styleUrls: [\"./recipe-form.component.scss\"],\n})\nexport class RecipeFormComponent implements OnInit {\n  recipeForm!: FormGroup;\n  errorMsg!: string;\n  mode!: string;\n  recipeId!: number;\n  loading!: boolean;\n  recipeBook!: Recipe;\n  recipeBook$!: Observable<Recipe>;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private router: Router,\n    private Recipes: RecipeService,\n    private route: ActivatedRoute,\n    private dietBooks: DietBooksService\n  ) {}\n  ngOnInit() {\n    this.loading = true;\n    this.recipeId = this.route.snapshot.queryParams[\"recipeId\"];\n\n    this.route.queryParams\n      .pipe(\n        switchMap((params) => {\n          if (!this.recipeId) {\n            this.mode = \"new\";\n            this.loading = false;\n            this.initEmptyForm();\n            return EMPTY;\n          } else {\n            this.mode = \"edit\";\n            return this.Recipes.getRecipeById(params[\"recipeId\"]);\n          }\n        }),\n        tap((recipe) => {\n          if (recipe) {\n            this.recipeBook = recipe;\n            this.loading = false;\n            this.initModifyForm(recipe);\n          }\n        }),\n        catchError((error) => (this.errorMsg = JSON.stringify(error)))\n      )\n      .subscribe();\n  }\n\n  initEmptyForm() {\n    this.recipeForm = this.formBuilder.group({\n      title: new FormControl(\"\", Validators.required),\n    });\n  }\n\n  initModifyForm(recipebook: Recipe) {\n    this.recipeForm = this.formBuilder.group({\n      id: recipebook.id,\n      title: recipebook.title,\n    });\n  }\n}\n","<div class=\"row_entire\">\n  <div class=\"border col\">\n    <div class=\"border col3\"></div>\n    <div class=\"border col3\"></div>\n    <div class=\"border col3\"></div>\n    <div class=\"border col3\"></div>\n    <div class=\"border col3\"></div>\n  </div>\n  <div class=\"border col1\"></div>\n  <p>recipe-form works!</p>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}